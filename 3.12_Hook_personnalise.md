# üõ†Ô∏è Cr√©er un Hook Personnalis√© en React

## ‚úÖ Pourquoi cr√©er un custom hook ?

Un hook personnalis√© permet de **r√©utiliser une logique d‚Äô√©tat ou d‚Äôeffet** dans plusieurs composants sans dupliquer le code.

```
üí° Si tu utilises plusieurs fois `useState`, `useEffect`, etc., de la m√™me fa√ßon ‚Üí regroupe-les dans un hook r√©utilisable.
```

## ‚úçÔ∏è Syntaxe de base

```jsx
function useMonHook() {
  const [valeur, setValeur] = useState(valeurInitiale);
  useEffect(() => {
    // effet
  }, []);
  return valeur;
}
```

## Mise en pratique 

### üéØ Exemple 1 : D√©tection de connexion r√©seau (en lien avec ta calculatrice)

```jsx
// useNetworkStatus.js
import { useEffect, useState } from 'react';

export default function useNetworkStatus() {
  const [isOnline, setIsOnline] = useState(navigator.onLine);

  useEffect(() => {
    const handleOnline = () => setIsOnline(true);
    const handleOffline = () => setIsOnline(false);
    
    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);
    
    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  return isOnline;
}
```

‚úÖ **Utilisation dans la calculatrice** :

```jsx
import useNetworkStatus from '../hooks/useNetworkStatus';

function Calculator() {
  const isOnline = useNetworkStatus();

  return (
    <div>
      {isOnline ? "‚úÖ En ligne" : "‚ùå Hors ligne"}
    </div>
  );
}
```

### üéØ Exemple 2 : Timer / Compteur r√©utilisable

```jsx
// useTimer.js
import { useEffect, useState } from 'react';

export function useTimer(interval = 1000) {
  const [count, setCount] = useState(0);

  useEffect(() => {
    const id = setInterval(() => {
      setCount(prev => prev + 1);
    }, interval);

    return () => clearInterval(id);
  }, [interval]);

  return count;
}
```

‚úÖ **Utilisation** :

```jsx
import { useTimer } from '../hooks/useTimer';

function Afficheur() {
  const seconds = useTimer();
  return <p>Temps √©coul√© : {seconds}s</p>;
}
```