### Les deux types de composants :

1. **Composants de classe** : Ce sont des classes qui étendent la classe `React.Component` et qui utilisent une méthode `render()` pour renvoyer du `JSX`. Ce type de composant est moins courant aujourd'hui, car les `Hooks` permettent de gérer l'état et les effets dans les composants fonctionnels. 
 
Exemple :

```jsx
import React from 'react';

class Salut extends React.Component {
  render() {
    return <h1>Bonjour, {this.props.nom}!</h1>;
  }
}

```
2. **Composants fonctionnels** : Ce sont des fonctions JavaScript qui renvoient du JSX pour décrire l’UI. Les composants fonctionnels sont souvent utilisés de nos jours en raison de leur simplicité et de leur facilité d’utilisation avec les hooks. 
   
Exemple :
 
```jsx
function Salut() {
  return <h1>Bonjour, Boss !</h1>;
}

```

Un composant fonctionnel, c'est trois parties essentielles : 
* le state (états, données)
* comportements
* affichage (render) : rendu possbile via le mot clé `return`

### Premières manipulations
Dans cette partie du cours, nous allons découvrir notre premier `hook`, le `useState`.
Un `hook` est simplement une fonction qui vous permet d'utiliser des fonctionnalités de React. 

1. Délimittons par des commentaires les trois parties de notre composant
2. Ce qu'il faut savoir sur `useState`
Le `hook` `useState` est l'un des hooks les plus utilisés en `React`, et il permet de gérer l'état d'un composant fonctionnel. Il retourne un tableau avec deux éléments.


```jsx
const [state, setState] = useState(initialState);
``` 
* `initialState` : La valeur initiale de l'état. Cela peut être une valeur primitive (comme un nombre ou une chaîne de caractères), un tableau, un objet, etc.

* `state` (l'état actuel) : La variable qui contient la valeur actuelle de l'état.

* `setState` (le setter d'état) : La fonction qui permet de mettre à jour l'état.

Nous allons définir un state, que nous allons **initialiser** à `1`. Cette valeur sera récupérée dans la variable `compteur`. Variable qu'on pourra assez facilement modifier grâce à la fonction `setCompteur`.

1. *Projettons* (affichons) la variable compteur sur notre interface. 
2. Et si on jouait un peu ?! 
   * Ajoutons un bouton qui va nous permettre d'incrémenter la valeur de notre variable `compteur`
   * Nous avons besoin de définir un "comportement" pour rendre effective cette incrémentation. Par convention, nous appelerons ce "comportement" `handleClick`.
   * Avec l'écouteur d'événement `onClick` pour lier notre "comportement" au clique de notre bouton.
   * Remplaçons par `let` le mot clé ayant servi à la déclaration du tableau permette de récupérer le return de notre `ustState`
   * Voilà à quoi doit ressembler notre comportement `handleClick` : 
```jsx
     const handleClick = () => {
    // alert("handleClick");
    console.log("compteur", compteur);
    compteur += 1;
    console.log("compteur", compteur);
  }
``` 
Dans la console, nous voyons bien que `compteur` est modifiée mais sans que cela n'impacte le rendu. Cela est dû au fait qu'on ne modifie **JAMAIS** un state directement. On utilise **TOUJOURS** son `setter` dédié. En faisant ainsi, le `setter` va modifier la valeur du `state` auquel il est lié mais cela aura pour conséquence de "pousser" le composant à **REAGIR** en actualisant **AUTOMATIQUEMENT** l'affichage. 


```jsx
 const handleClick = () => {
    setCompteur(compteur + 1);
  }
```
   * Incrémentons maintenant notre `compteur` à chaque clique du bouton ! Eurêka, mon code marche mainteant ✌✌✌✌

On ira plus loin avec notre application. Et si on mettait en place une calculatrice ?

* Supprimons le contenu de notre composant. le render doit contenir le code suivant : 
 
```jsx
  <div className="calculator">
      <div className="display"></div>
      <div className="buttons">
        <button >1</button>
        <button >2</button>
        <button >3</button>
        <button >+</button>
        <button >4</button>
        <button >5</button>
        <button >6</button>
        <button >-</button>
        <button >7</button>
        <button >8</button>
        <button >9</button>
        <button >*</button>
        <button >0</button>
        <button >C</button>
        <button >=</button>
        <button >/</button>
      </div>
    </div> 
``` 

* Récupérer le code css suivant pour mieux styliser notre calculatrice 

```css 
.calculator {
  width: 200px;
  margin: 50px auto;
  padding: 20px;
  border: 2px solid #000;
  border-radius: 10px;
  background-color: #f9f9f9;
}

.display {
  height: 90px;
  text-align: right;
  font-size: 20px;
  padding: 5px;
  background-color: #eaeaea;
  border: 1px solid #ccc;
}

.buttons button {
  width: 40px;
  height: 40px;
  font-size: 18px;
  margin: 5px;
  cursor: pointer;
  border: none;
  border-radius: 5px;
  background-color: #f1f1f1;
}

.buttons button:hover {
  background-color: #dcdcdc;
}
``` 

**À l'heure actuelle, nous avons une calculatrice, mais elle ne remplit pas encore toutes ses fonctions attendues. Nous allons travailler sur son amélioration.**

Pour que la calculatrice fonctionne correctement, nous aurons besoin de :

* Récupérer chacune des valeurs sur lesquelles l'utilisateur clique.

* Récupérer l'opérateur choisi par l'utilisateur.

* Permettre de supprimer les valeurs saisies.
 
* Soumettre l'opération pour effectuer le calcul.
 

  
#### 1. Récupérer chacune des valeurs sur lesquelles l'utilisateur clique (handleNumberClick)
#### 2. Récupérer l'opérateur choisi par l'utilisateur (handleOperatorClick)
#### 3. Permettre de supprimer les valeurs saisies (handleClear)
#### 4. Soumettre l'opération pour effectuer le calcul (handleEqualClick)


Maintenant que la caulculatrice fonctionne, c'est bien beau tout cela mais on peut faire encore mieux. On va incrémenter le niveau en modularisant le code. La structure de fichier que nous aurons à la fin : 

```css
src/
│
├── components/
│   ├── Button.jsx
│   ├── Display.jsx
│   └── Calculator.jsx
│
└── App.js

```
Cette partie nous permettra d'aborder les `props` en React.

##### Plan de modularisation
1. Créer un composant `Button` :
   * Ce composant représentera un bouton.

   * Il recevra en props une `label` (le texte du bouton) et une fonction `onClick` qui sera exécutée lorsque l'utilisateur clique dessus. 

2. Créer un composant `Display` :

    * Ce composant affichera l'état actuel de la calculatrice (les chiffres ou le résultat). 

3.  Créer un composant `Calculator` :

    * Ce composant va gérer l'état (comme `operatorDeux`, `display`, etc.) et assembler les autres composants (`Button`, `Display`).